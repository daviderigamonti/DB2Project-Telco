%---------------------------------------------------------------------
%   PACKAGES AND CONFIGURATION
%---------------------------------------------------------------------

\documentclass{report}

\usepackage{geometry}   % Edit document margins
\usepackage{hyperref}   % Table of contents hyperlinks
\usepackage{parskip}    % Paragraph indent & skip
\usepackage{svg}        % SVG graphics
\usepackage{xcolor}     % More colors
\usepackage{listings}   % Code sections formatting
\usepackage{pdflscape}  % Landscape pages
\usepackage{enumitem}   % List utilities
\usepackage{fancyhdr}   % Custom header/footer
\usepackage{float}      % Improved floating object placement
\usepackage{caption}    % Better captions


% HELPER PACKAGES (REMOVE IN FINAL) %
\usepackage{todonotes}
\usepackage{blindtext}
% HELPER PACKAGES (REMOVE IN FINAL) %

% Custom Monospace + Bold command: \textttbf{"text"}
\def\textttbf#1{\renewcommand{\ttdefault}{pcr}\texttt{\textbf{#1}}\renewcommand{\ttdefault}{cmtt}}

% Custom Colors
\definecolor{AnnotationGreen}{RGB}{34, 128, 45}
\definecolor{CommentGreen}{RGB}{29, 204, 49}

% Hyperlink setup
\hypersetup{   
    colorlinks,
    citecolor = blue,
    filecolor = blue,
    linkcolor = blue,
    urlcolor = blue
}

% SQL code formatting
\lstdefinestyle{SQL}{
    language = SQL,
    basicstyle = \footnotesize\ttfamily,
    commentstyle = \textcolor{CommentGreen},
    stringstyle = \textcolor{orange},
    showstringspaces = false,
    keywordstyle = \textcolor{blue},
    morekeywords = [2]{IF},                             % Additional keywords
    numberstyle = \scriptsize\ttfamily\textcolor{gray},
    numbers = left,
    frame = single, 
    frameround = tttt,
    framexleftmargin = 20pt,
    framexrightmargin = 20pt
}

% JAva code formatting
\lstdefinestyle{JPA}{
    language = Java,
    basicstyle = \footnotesize\ttfamily,
    commentstyle = \textcolor{CommentGreen},
    stringstyle = \textcolor{orange},
    showstringspaces = false,
    keywordstyle = \textcolor{blue},
    moredelim = [is][\textcolor{black}]{\\!!}{!!\/},            % Remove from keyword
    moredelim = [is][\textcolor{AnnotationGreen}]{\\@}{@@\/},   % Annotations
    morekeywords = [2]{name, column, query, schema, strategy, 
                        fetch, mappedBy, cascade},              % JPA annotation parameters
    keywordstyle = [2]{\textcolor{purple}},
    numberstyle = \scriptsize\ttfamily\textcolor{gray},
    numbers = left,
    frame = single, 
    frameround = tttt,
    framexleftmargin = 20pt,
    framexrightmargin = 20pt
}

% Landscape page settings
\fancypagestyle{landscape}{
    \fancyhf{}
    \fancyfoot[C]{
        \makebox[\textwidth][r]{
            \rlap{
                \hspace{2\footskip}
                \smash{
                    \raisebox{
                        \paperheight - \textheight - \footskip
                    }{
                        \rotatebox{90}{\thepage}
                    }
                }
            }
        }
    }
    \renewcommand{\headrulewidth}{0pt}
    \renewcommand{\footrulewidth}{0pt}
}


%---------------------------------------------------------------------
%	DOCUMENT
%---------------------------------------------------------------------

\begin{document}

% TITLE
\include{title}

% ToC
{
    \hypersetup{hidelinks}
    \tableofcontents
}

% LIST OF TODOS (REMOVE IN FINAL) %
\listoftodos
% LIST OF TODOS (REMOVE IN FINAL) %

% SPECIFICATIONS
\include{chapters/1.specifications}

% DATA MODELS
\include{chapters/2.data_models}

% TRIGGERS
\include{chapters/3.triggers}

% ORM
\include{chapters/4.orm}

% FUNCTIONAL ANALYSIS
\include{chapters/5.functional_analysis}

% COMPONENTS
\include{chapters/6.components}

% SEQUENCE DIAGRAMS
\include{chapters/7.sequence_diagrams}

\end{document}
